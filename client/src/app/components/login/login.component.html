<div class="login">
    <form #loginForm="ngForm" (ngSubmit)="onSubmit()" (transitionend)="transitionEnd($event)" [ngClass]="{ 'error-login': loginError}">
        <h1 class="h1-strong">{{title}}</h1>

        <div class="alert alert-success" *ngIf="status == 'success'">
            Connexion reussie, bienvenue {{identity.name}}
        </div>

        <div class="alert alert-danger" *ngIf="status == 'error'">
            Connexion interrompu, veuillez r√©essayer.
        </div>
          <p>
              <label>Email *</label>
              <input type="email" name="email" #email="ngModel" [(ngModel)]="user.email" class="form-control" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" autocomplete="email"/>
              <span *ngIf="!email.valid && email.touched">
                  <i>Email incorrecte</i>
              </span>
          </p>
          <p>
              <label>Mot de passe  *</label>
              <input type="password" name="password" #password="ngModel" [(ngModel)]="user.password" class="form-control" required autocomplete="password"/>
              <span *ngIf="!password.valid && password.touched">
                  <i>Mot de passe requis</i>
              </span>
          </p>

        <div class="enter-button">
          <input type="submit" value="Se connecter" class="btn btn-success" [disabled]="!loginForm.form.valid" />
        </div>
    </form>
</div>
